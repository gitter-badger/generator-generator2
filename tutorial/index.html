<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="no-js ie6"><![endif]-->
<!--[if IE 7 ]><html class="no-js ie7"><![endif]-->
<!--[if IE 8 ]><html class="no-js ie8"><![endif]-->
<!--[if IE 9 ]><html class="no-js ie9"><![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    
      
        <title>Tutorial - generator-generator2</title>
      
      
      
        <link rel="canonical" href="http://urosjarc.github.io/generator-generator2/tutorial/">
      
      
        <meta name="author" content="Uroš Jarc">
      
    
    <meta property="og:url" content="http://urosjarc.github.io/generator-generator2/tutorial/">
    <meta property="og:title" content="generator-generator2">
    <meta property="og:image" content="http://urosjarc.github.io/generator-generator2/tutorial//../media/logo.png">
    <meta name="apple-mobile-web-app-title" content="generator-generator2">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
      <link rel="apple-touch-icon" href="../media/logo.png">
    
    
    <link rel="shortcut icon" type="image/x-icon" href="../../media/favicon.ico">
    <link rel="icon" type="image/x-icon" href="../../media/favicon.ico">
    <style>
      @font-face {
      	font-family: 'Icon';
      	src: url('../assets/fonts/icon.eot?52m981');
      	src: url('../assets/fonts/icon.eot?#iefix52m981')
               format('embedded-opentype'),
      		   url('../assets/fonts/icon.woff?52m981')
               format('woff'),
      		   url('../assets/fonts/icon.ttf?52m981')
               format('truetype'),
      		   url('../assets/fonts/icon.svg?52m981#icon')
               format('svg');
      	font-weight: normal;
      	font-style: normal;
      }
    </style>
    <link rel="stylesheet" href="../assets/stylesheets/application-a422ff04cc.css">
    
      <link rel="stylesheet" href="../assets/stylesheets/palettes-05ab2406df.css">
    
    
      
      
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,700|Roboto+Mono">
      <style>
        body, input {
          font-family: 'Roboto', Helvetica, Arial, sans-serif;
        }
        pre, code {
          font-family: 'Roboto Mono', 'Courier New', 'Courier', monospace;
        }
      </style>
    
    
      <link rel="stylesheet" href="..//template/theme.css">
    
      <link rel="stylesheet" href="..//template/fadein.css">
    
    <script src="../assets/javascripts/modernizr-4ab42b99fd.js"></script>
    
  </head>
  
  
  
  <body class="palette-primary-green palette-accent-green">
    
      
      
    
    <div class="backdrop">
      <div class="backdrop-paper"></div>
    </div>
    <input class="toggle" type="checkbox" id="toggle-drawer">
    <input class="toggle" type="checkbox" id="toggle-search">
    <label class="toggle-button overlay" for="toggle-drawer"></label>
    <header class="header">
      <nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        
          <span class="path">
            
          </span>
        
        Tutorial
      </div>
    </div>
    
      
      <div class="button button-twitter" role="button" aria-label="Twitter">
        <a href="https://twitter.com/urosjarc" title="@urosjarc on Twitter" target="_blank" class="toggle-button icon icon-twitter"></a>
      </div>
    
    
      
      <div class="button button-github" role="button" aria-label="GitHub">
        <a href="https://github.com/urosjarc" title="@urosjarc on GitHub" target="_blank" class="toggle-button icon icon-github"></a>
      </div>
    
    <div class="button button-search" role="button" aria-label="Search">
      <label class="toggle-button icon icon-search" title="Search" for="toggle-search"></label>
    </div>
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
    </header>
    <main class="main">
      
      <div class="drawer">
        <nav aria-label="Navigation">
  
  <a href="https://github.com/urosjarc/generator-generator2" class="project">
    <div class="banner">
      
        <div class="logo">
          <img src="../media/logo.png">
        </div>
      
      <div class="name">
        <strong>
          generator-generator2
          <span class="version">
            0.0.1
          </span>
        </strong>
        
          <br>
          urosjarc/generator-generator2
        
      </div>
    </div>
  </a>
  <div class="scrollable">
    <div class="wrapper">
      
        <ul class="repo">
          <li class="repo-download">
            
            <a href="https://github.com/urosjarc/generator-generator2/archive/0.0.1.zip" target="_blank" title="Download" data-action="download">
              <i class="icon icon-download"></i> Download
            </a>
          </li>
          <li class="repo-stars">
            <a href="https://github.com/urosjarc/generator-generator2/stargazers" target="_blank" title="Stargazers" data-action="star">
              <i class="icon icon-star"></i> Stars
              <span class="count">&ndash;</span>
            </a>
          </li>
        </ul>
        <hr>
      
      <div class="toc">
        <ul>
          
            
  <li>
    <a class="" title="Project" href="..">
      Project
    </a>
    
  </li>

          
            
  <li>
    <a class="current" title="Tutorial" href="./">
      Tutorial
    </a>
    
      
      
        <ul>
          
            <li class="anchor">
              <a title="Generate project" href="#generate-project">
                Generate project
              </a>
            </li>
          
            <li class="anchor">
              <a title="Customize promping" href="#customize-promping">
                Customize promping
              </a>
            </li>
          
            <li class="anchor">
              <a title="Subgenerator" href="#subgenerator">
                Subgenerator
              </a>
            </li>
          
            <li class="anchor">
              <a title="Create bases" href="#create-bases">
                Create bases
              </a>
            </li>
          
            <li class="anchor">
              <a title="Create modules" href="#create-modules">
                Create modules
              </a>
            </li>
          
            <li class="anchor">
              <a title="Setup configuration" href="#setup-configuration">
                Setup configuration
              </a>
            </li>
          
            <li class="anchor">
              <a title="Subgenerator methods" href="#subgenerator-methods">
                Subgenerator methods
              </a>
            </li>
          
            <li class="anchor">
              <a title="Start your generator" href="#start-your-generator">
                Start your generator
              </a>
            </li>
          
        </ul>
      
    
  </li>

          
            
  <li>
    <a class="" title="Contribution" href="../contribution/">
      Contribution
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Developers" href="../developers/">
      Developers
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Documentation" href="../documentation/">
      Documentation
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Changes" href="../changes/">
      Changes
    </a>
    
  </li>

          
        </ul>
        
          <hr>
          <span class="section">The author</span>
          <ul>
            
              
              <li>
                <a href="https://twitter.com/urosjarc" target="_blank" title="@urosjarc on Twitter">
                  @urosjarc on Twitter
                </a>
              </li>
            
            
              
              <li>
                <a href="https://github.com/urosjarc" target="_blank" title="@urosjarc on GitHub">
                  @urosjarc on GitHub
                </a>
              </li>
            
          </ul>
        
      </div>
    </div>
  </div>
</nav>
      </div>
      <article class="article">
        <div class="wrapper">
          
            <h1>Tutorial</h1>
          
          <h2 id="generate-project">Generate project<a class="headerlink" href="#generate-project" title="Permanent link">#</a></h2>
<p>First follow <a href="../#instalation">installation</a> section and install requirements.
Start GG2 with yeoman CLI to generate starting structure.</p>
<div class="code"><pre><span></span>yo generator2
</pre></div>


<p>Command will generate your generator structure:</p>
<div class="code"><pre><span></span>.
├── generators/
│   ├── app/
│   |   ├── USAGE
│   |   └── index.js
|   └── subgenerator/
|       ├── index.js
│       └── templates/
│           ├── base/
│           ├── module/
│           └── setup
|               ├── base/
|               ├── ejs/
|               └── injector/
├── .editorconfig
├── .gitattributes
├── .gitignore
├── .eslintrc
├── .travis.yml
├── .yo-rc.json
├── package.json
├── gulpfile.js
├── README.md
├── LICENSE
└── test/
    └── app.js
</pre></div>


<h2 id="customize-promping">Customize promping<a class="headerlink" href="#customize-promping" title="Permanent link">#</a></h2>
<p>Open <code>generators/app/index.js</code> file and modify app questions.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><code>app.license</code> and <code>app.sugenerator</code> should stay the same, unless you know
what it means to delete those objects.</p>
</div>
<h2 id="subgenerator">Subgenerator<a class="headerlink" href="#subgenerator" title="Permanent link">#</a></h2>
<p>Example of good arhitecture is located at
<a href="https://github.com/urosjarc/generator-generate">urosjarc/generator-generate</a></p>
<p>Rename subgenerator directory in <code>generators/</code> folder.
You should name it something like <code>java</code> or <code>python</code>.</p>
<h2 id="create-bases">Create bases<a class="headerlink" href="#create-bases" title="Permanent link">#</a></h2>
<p>Add folders in <code>&lt;subgen&gt;/templates/base</code> and name them something like
<code>server</code>, <code>lib</code>, <code>website</code> or <code>cli-tool</code>. Those folders will hold
project specific files.</p>
<h2 id="create-modules">Create modules<a class="headerlink" href="#create-modules" title="Permanent link">#</a></h2>
<p>Add folders in <code>&lt;subgen&gt;/templates/module</code> and name them something like
<code>database</code>, <code>logger</code> or <code>docs</code>. Those folders will hold your project
specific files for modules.</p>
<h2 id="setup-configuration">Setup configuration<a class="headerlink" href="#setup-configuration" title="Permanent link">#</a></h2>
<h3 id="tempsetupbases">temp./setup/bases<a class="headerlink" href="#tempsetupbases" title="Permanent link">#</a></h3>
<p>Add folders and files in <code>&lt;subgen&gt;/templates/setup/base</code>.
This folder will hold files and folders which all bases will use.
Here you should place <code>.gitignore</code>, <code>.editorconfig</code>, <code>.travis.yml</code>.</p>
<h3 id="tempsetupejs">temp./setup/ejs<a class="headerlink" href="#tempsetupejs" title="Permanent link">#</a></h3>
<p>Add folders and files in <code>&lt;subgen&gt;/templates/setup/ejs</code>. Here you should
place files which will provide <a href="http://www.embeddedjs.com/">EJS</a> template content for <code>setup/base</code>, <code>base</code>, <code>module</code>
folders and files.</p>
<p>For example file with path <code>&lt;subgen&gt;/templates/setup/ejs/readme/somedir/header</code> with content
<code>Hello world!</code> will be setup as <a href="http://www.embeddedjs.com/">EJS</a> key <code>ejs.readme_somedir_header</code>. You can use EJS templating
system within <code>base/*</code>, <code>module/*</code>, and <code>setup/base/*</code>.</p>
<div class="admonition warning">
<p class="admonition-title">Warnings</p>
<ol>
<li>Path slashes (<code>/</code>) will be replaced with underscore characted (<code>_</code>).</li>
<li>There should always be <code>license</code> file in <code>ejs/</code> directory. Content
   of <code>license</code> file will be compiled when generator will run.</li>
<li>You can access prompt answeres joust like you setup questions for the prompt (<code>app.name</code>, <code>app.license</code>).</li>
</ol>
</div>
<h3 id="tempsetupinjector">temp./setup/injector<a class="headerlink" href="#tempsetupinjector" title="Permanent link">#</a></h3>
<p>Add yml files and name them with the same names as folders in <code>&lt;subgen&gt;/templates/module</code>.
When generator will be generating module you will want to inject files at specific line.</p>
<p>For example when generating module <code>database</code> you would want to inject lines in to your
<code>setup.py</code> or <code>build.gradle</code> with dependency information.</p>
<p>File <code>database.yml</code>:</p>
<div class="code"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">./setup.py</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">flag</span><span class="p p-Indicator">:</span> <span class="c1">#Dependencies</span>
  <span class="l l-Scalar l-Scalar-Plain">text</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">|-</span>
    <span class="no">mysql</span>
    <span class="no">mysql_connect</span>

<span class="l l-Scalar l-Scalar-Plain">./package/__init__.py</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">flag</span><span class="p p-Indicator">:</span> <span class="c1">#Import</span>
  <span class="l l-Scalar l-Scalar-Plain">text</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">|-</span>
    <span class="no">import mysql</span>
    <span class="no">import mysql_connect</span>
</pre></div>


<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Injector will inject text lines after flag at the <strong>same indentation</strong>!</p>
</div>
<h2 id="subgenerator-methods">Subgenerator methods<a class="headerlink" href="#subgenerator-methods" title="Permanent link">#</a></h2>
<p>After base or module generation specific method in <code>&lt;subgen&gt;/index.js</code>
with the same name as base or module will be executed. Here you can for example
install dependencies for generated project or test generated structure. </p>
<h2 id="start-your-generator">Start your generator<a class="headerlink" href="#start-your-generator" title="Permanent link">#</a></h2>
<p>Then link this generator to start using it.
When running generator for the first time you will be asked
which subgenerator you want to use, and then what project you would like
to generate. When running generator in the same directory for the second time
you will be asked which module you want to generate.</p>
<div class="code"><pre><span></span>npm link
yo &lt;generator-name&gt;
</pre></div>
          <aside class="copyright" role="note">
            
              Copyright © 2016 Uroš Jarc &ndash;
            
            Documentation built with
            <a href="http://www.mkdocs.org" target="_blank">MkDocs</a>
            using the
            <a href="http://squidfunk.github.io/mkdocs-material/" target="_blank">
              Material
            </a>
            theme.
          </aside>
          
            <footer class="footer">
              
  <nav class="pagination" aria-label="Footer">
    <div class="previous">
      
        <a href=".." title="Project">
          <span class="direction">
            Previous
          </span>
          <div class="page">
            <div class="button button-previous" role="button" aria-label="Previous">
              <i class="icon icon-back"></i>
            </div>
            <div class="stretch">
              <div class="title">
                Project
              </div>
            </div>
          </div>
        </a>
      
    </div>
    <div class="next">
      
        <a href="../contribution/" title="Contribution">
          <span class="direction">
            Next
          </span>
          <div class="page">
            <div class="stretch">
              <div class="title">
                Contribution
              </div>
            </div>
            <div class="button button-next" role="button" aria-label="Next">
              <i class="icon icon-forward"></i>
            </div>
          </div>
        </a>
      
    </div>
  </nav>

            </footer>
          
        </div>
      </article>
      <div class="results" role="status" aria-live="polite">
        <div class="scrollable">
          <div class="wrapper">
            <div class="meta"></div>
            <div class="list"></div>
          </div>
        </div>
      </div>
    </main>
    <script>
      var base_url = '..';
      var repo_id  = 'urosjarc/generator-generator2';
    </script>
    <script src="../assets/javascripts/application-997097ee0c.js"></script>
    
    
      <script>
        (function(i,s,o,g,r,a,m){
          i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||
          []).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;
          m.parentNode.insertBefore(a,m)
        })(window, document,
          'script', 'https://www.google-analytics.com/analytics.js', 'ga');
        /* General initialization */
        ga('create', 'UA-53923399-3', 'auto');
        ga('set', 'anonymizeIp', true);
        ga('send', 'pageview');
        /* Track outbound links */
        var buttons = document.querySelectorAll('a');
        Array.prototype.map.call(buttons, function(item) {
          if (item.host != document.location.host) {
            item.addEventListener('click', function() {
              var action = item.getAttribute('data-action') || 'follow';
              ga('send', 'event', 'outbound', action, item.href);
            });
          }
        });
        /* Register handler to log search on blur */
        var query = document.querySelector('.query');
        query.addEventListener('blur', function() {
          if (this.value) {
            var path = document.location.pathname;
            ga('send', 'pageview', path + '?q=' + this.value);
          }
        });
      </script>
    
  </body>
</html>